@tailwind base;
@tailwind components;
@tailwind utilities;

/* Lenis Smooth Scroll Styles */
html.lenis,
html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  /* Lenis handles smooth scrolling - native scroll-behavior removed */
  scroll-padding-top: 80px;
  /* For anchor links navigation */
}

body {
  font-family: 'Urbanist', sans-serif;
  background-color: #000000;
  color: #ffffff;
  overflow-x: hidden;
  overflow-y: auto;
  font-weight: 400;
  letter-spacing: -0.01em;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Better mobile scrolling */
  -webkit-overflow-scrolling: touch;
  touch-action: pan-y;
  overscroll-behavior-y: contain;
}

/* Prevent horizontal scroll on all elements */
* {
  max-width: 100%;
}

html,
body,
#root {
  overflow-x: hidden;
  position: relative;
}

/* Ensure images are responsive */
img {
  max-width: 100%;
  height: auto;
  display: block;
}

/* Prevent iframe overflow */
iframe {
  max-width: 100%;
}

/* Performance optimizations */
@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Global performance optimizations */
* {
  /* Reduce repaints */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Performance: Isolate rendering contexts */
section {
  contain: layout style paint;
  isolation: isolate;
}

/* Optimize scrolling performance */
html {
  scroll-padding-top: 80px;
}

/* Reduce will-change overhead */
[style*="will-change"] {
  will-change: transform, opacity;
}

/* GPU acceleration for smooth animations */
.gpu-accelerated,
[style*="transform"] {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Mobile performance optimizations */
@media (max-width: 768px) {

  /* Reduce blur effects on mobile for better performance */
  [style*="backdrop-filter"],
  .backdrop-blur-xl,
  .backdrop-blur-sm {
    backdrop-filter: blur(2px) !important;
  }

  /* Reduce animation complexity on mobile */
  [style*="will-change"] {
    will-change: auto !important;
  }

  /* Optimize GPU-accelerated properties */
  .gpu-accelerated {
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  /* Better touch targets */
  button,
  a {
    min-height: 44px;
    min-width: 44px;
  }

  /* Prevent text size adjustment on iOS */
  html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* Pause animations when not visible */
  * {
    animation-play-state: running;
  }
}

/* Very small screens - text sizing optimization */
@media (max-width: 375px) {

  /* Hero section name - reduce to 3xl on very small screens */
  h1.text-4xl {
    font-size: 1.875rem !important;
    /* 3xl equivalent */
    line-height: 2.25rem !important;
  }

  /* About section heading */
  h2.text-3xl {
    font-size: 1.5rem !important;
    /* 2xl equivalent */
    line-height: 2rem !important;
  }

  /* Contact section values - better overflow handling */
  .break-words {
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
    hyphens: auto;
  }
}

/* Landscape orientation on mobile */
@media (max-height: 500px) and (orientation: landscape) {

  /* Reduce vertical spacing */
  section {
    padding-top: 3rem !important;
    padding-bottom: 3rem !important;
  }

  /* Reduce hero section height */
  #hero {
    min-height: auto !important;
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }

  /* Make profile image smaller */
  #hero img {
    max-width: 10rem !important;
    max-height: 10rem !important;
  }
}

/* Reduce blur effects globally for better performance */
.backdrop-blur-xl {
  backdrop-filter: blur(8px);
}

/* Keyboard navigation and focus indicators */
/* Remove default outline and add custom focus styles */
*:focus {
  outline: none;
}

*:focus-visible {
  outline: 2px solid #FEBD59;
  outline-offset: 4px;
  border-radius: 4px;
}

/* Focus styles for interactive elements */
button:focus-visible,
a:focus-visible {
  outline: 2px solid #FEBD59;
  outline-offset: 4px;
  box-shadow: 0 0 0 4px rgba(254, 189, 89, 0.2);
}

/* Focus within for containers */
*:focus-within {
  /* Allow nested focus to show */
}

/* Skip to main content link for screen readers */
.skip-to-main {
  position: absolute;
  left: -9999px;
  z-index: 999;
  padding: 1rem 1.5rem;
  background-color: #FEBD59;
  color: #000;
  text-decoration: none;
  border-radius: 0 0 0.5rem 0;
  font-weight: bold;
}

.skip-to-main:focus {
  left: 0;
  top: 0;
}

.backdrop-blur-sm {
  backdrop-filter: blur(4px);
}

.font-display {
  font-family: 'Cabinet Grotesk', sans-serif;
  font-weight: 700;
  letter-spacing: -0.02em;
}

.font-accent {
  font-family: 'Karla', sans-serif;
  font-weight: 500;
  letter-spacing: 0.01em;
}

/* Glass effect utility */
.glass {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

/* Gradient text */
.gradient-text {
  background: linear-gradient(135deg, #FEBD59 0%, #FFBC4C 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  will-change: transform;
}

/* GPU acceleration for animations */
.gpu-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #000;
}

::-webkit-scrollbar-thumb {
  background: #FEBD59;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #FF9D00;
}